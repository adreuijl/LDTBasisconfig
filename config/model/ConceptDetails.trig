@prefix elmo: <http://dotwebstack.org/def/elmo#> .
@prefix elmo-rt: <http://dotwebstack.org/def/elmo/result-type/>.
@prefix elmo-ps: <http://dotwebstack.org/def/elmo/persistence-strategy/>.
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix config: <http://dotwebstack.org/configuration/>.
@prefix sh: <http://www.w3.org/ns/shacl#>.
@prefix dbo: <http://dbpedia.org/ontology/>.
@prefix xhtml: <http://www.w3.org/1999/xhtml/vocab#>.
@prefix http: <http://www.w3.org/2011/http#>.
@prefix dc: <http://purl.org/dc/elements/1.1/>.

GRAPH config:Theatre {

  config:ConceptenDetails a elmo:Representation;
    elmo:pathPattern "/begrip";
	elmo:appearance config:ConceptDetailAppearance;
	elmo:stage config:Stage;
	elmo:contains config:Menu;
	elmo:contains config:Footer;
	elmo:informationProduct config:ConceptDetailData;
  .
  
  config:ConceptDetailAppearance a elmo:Appearance;
	elmo:fragment [
	  elmo:appliesTo rdf:type;
    elmo:appearance elmo:HiddenAppearance;
	  rdfs:label "Begrip"@nl;
	];
	elmo:fragment [
	  elmo:appliesTo rdfs:label;
    elmo:appearance elmo:HiddenAppearance;
	];
	elmo:fragment [
	  elmo:index 3;
	  elmo:appliesTo skos:preflabel;
	  rdfs:label "Naam"@nl;
	];
	elmo:fragment [ 
	  elmo:index 4;
	  elmo:appliesTo skos:definition;
	  rdfs:label "Definitie"@nl;
	];
    elmo:fragment [
	  elmo:index 5;
	  elmo:appliesTo skos:broader;
	  rdfs:label "Bredere term"@nl;
    xhtml:link "begrip";
    elmo:name "begrip";
	];
	elmo:fragment [
	  elmo:index 6;
	  elmo:appliesTo skos:narrower;
	  rdfs:label "Engere term"@nl;
    xhtml:link "begrip";
    elmo:name "begrip";
  ];
	elmo:fragment [
	  elmo:index 7;
	  elmo:appliesTo skos:related;
	  rdfs:label "Gerelateerde term"@nl;
    xhtml:link "begrip";
	];
	.
	
  config:ConceptTabelParameter a elmo:TermParameter;
    elmo:name "subject";
	  elmo:shape [
	    sh:nodeKind sh:IRI
		]
	.
	
  config:ConceptDetailData a elmo:InformationProduct;
    elmo:requiredParameter config:ConceptTabelParameter;
	elmo:backend config:LocalBackend;
	elmo:query """
	  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
	  CONSTRUCT {
      ?subject ?p ?o.
      ?o rdfs:label ?olabel
    }
	  WHERE {
	    GRAPH <http://data.aquo.nl/id/dataset/begrippen> {
        ?subject ?p ?o
        OPTIONAL {?o rdfs:label ?olabel}
		  }
		}
	  """
	.
}