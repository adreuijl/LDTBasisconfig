@prefix elmo: <http://dotwebstack.org/def/elmo#> . 
@prefix elmo-rt: <http://dotwebstack.org/def/elmo/result-type/>. 
@prefix elmo-ps: <http://dotwebstack.org/def/elmo/persistence-strategy/>. 
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> . 
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> . 
@prefix config: <http://dotwebstack.org/configuration/>. 
@prefix sh: <http://www.w3.org/ns/shacl#>. 
@prefix dbo: <http://dbpedia.org/ontology/>. 
@prefix xhtml: <http://www.w3.org/1999/xhtml/vocab#>. 
@prefix http: <http://www.w3.org/2011/http#>. 
@prefix dc: <http://purl.org/dc/elements/1.1/>. 
@prefix skos: <http://www.w3.org/2004/02/skos/core#>.
@prefix thes: <http://purl.org/iso25964/skos-thes#>.
@prefix dct: <http://purl.org/dc/terms/>.
 

GRAPH config:Theatre { 

  config:GraphDisplay a elmo:Representation;
    elmo:pathPattern "/resource"; # Hack
    elmo:stage config:Stage;
    elmo:informationProduct config:ConceptenDetailGraph;
  .

  config:GraphDisplay a elmo:Representation;
    elmo:stage config:Stage;
    elmo:appearance config:ConceptenGraphAppearance;
    elmo:informationProduct config:ConceptenDetailGraph;
  .
  
  config:ConceptenGraphAppearance a elmo:GraphAppearance;
    elmo:index 3;
  .

  config:ConceptenDetailGraph a elmo:InformationProduct;
    elmo:requiredParameter config:ConceptTabelParameter;
    elmo:backend config:LocalBackend;
    elmo:query """
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> 
      PREFIX skos: <http://www.w3.org/2004/02/skos/core#> 
      PREFIX thes: <http://purl.org/iso25964/skos-thes#>
      CONSTRUCT {
        ?subject rdfs:label ?slabel.
        ?subject ?p ?o.
        ?o rdfs:label ?olabel.
      }
      WHERE {
        GRAPH <http://data.aquo.nl/id/dataset/begrippen> {
          {
            ?subject rdfs:label ?slabel.
          }
          UNION
          {
            ?subject ?p ?o.
            ?o rdfs:label ?olabel.
          }
        }
      }
    """
  .
}
