GRAPH config:Theatre {

  config:DomeinMetaData a elmo:InformationProduct;
    #elmo:requiredParameter config:ConceptTabelParameter;
    #elmo:optionalParameter config:CategorieParameter;
    elmo:optionalParameter elmo:SubjectParameter;
    elmo:backend config:LocalBackend;
    elmo:query """
      PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
      PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
      PREFIX dct: <http://purl.org/dc/terms/>
      PREFIX aquo: <http://standaard.aquo.nl/def/aquo#>
      PREFIX dcat: <http://www.w3.org/ns/dcat#>

      CONSTRUCT {
        ?subject ?p ?o;
          rdfs:label ?titellabel;
          dct:publisher ?agent;
          dcat:theme ?thema.
        ?agent rdfs:label ?agent_label.
        ?thema rdfs:label ?thema_label.
        ?subject dcat:distribution ?domeintabel.
        ?domeintabel rdfs:label ?domeintabel_label.
      }
      WHERE {
          GRAPH <http://standaard.aquo.nl/id/dataset/domeinmeta> {
            ?subject ?p ?o;
              rdfs:label ?slabel;
              dct:publisher ?agent;
              dcat:theme ?thema.
            MINUS {?subject rdfs:label ?o}
            OPTIONAL {?subject dcat:distribution ?domeintabel}
            
          
          OPTIONAL{ ?agent rdfs:label ?agent_label}
          OPTIONAL{ ?thema rdfs:label ?thema_label}
          OPTIONAL{ 
            GRAPH <http://standaard.aquo.nl/id/dataset/domeintabel> 
              {<http://standaard.aquo.nl/id/dataset/domeintabel> dct:hasPart ?domeintabel.
                ?domeintabel rdfs:label ?domeintabel_label}
          }
          BIND(CONCAT("Domeintabel(metadata): ", ?slabel) AS ?titellabel)
        }
      }
    """
  .

}
